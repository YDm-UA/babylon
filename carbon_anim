//https://playground.babylonjs.com/#2Y20RL#2
//https://playground.babylonjs.com/#22J0X5
var createScene = function () {

    var scene = new BABYLON.Scene(engine);
	var camera = new BABYLON.ArcRotateCamera("Camera", 0, 0, 0, BABYLON.Vector3.Zero(), scene);
   
    var BAR_Door_Opened=1.5708;        //90°
    var ELDoor_Opened=2.96706;      //170°
    var AVHK_Opened=1.65806;        //95°
    var Door_Opened=1.8326;          //105°
    var Door_Closed=0;
    
    var Drawer_Opened=450;
    var Drawer450_Opened=450;
    var Drawer500_Opened=500;
    var Drawer600_Opened=600;
    var Drawer_Closed=0;
    var BLDS=0;     //BAR Left Door State
    var BRDS=0;     //BAR Right Door State
    var BSSS=0;     //BAR Sliding Shelf State
    var KBDS=0;     //Kitchen TC Bottom Door State
    var KIBS=0;     //Kitchen TC Internal Bottom Drawer State
    var KICS=0;     //Kitchen TC Internal Center Drawer State
    var KITS=0;     //Kitchen TC Internal Top Drawer State
    var A2_LDS=0;   //A2 Left Door State
    var A3_LDS=0;   //A3 Left Door State
    var A3_RDS=0;   //A3 Right Door State
    var A3_TDS=0;   //A3 Top Drawer State
    var A3_BDS=0;   //A3 Bottom Drawer State
    var A3_SSS=0;   //A3 Shoes Shelf State
    var A4_LDS=0;   //A4 Left Door State
    var A4_RDS=0;   //A4 Right Door State
    var A4_TDS=0;   //A4 Top Drawer State
    var A4_BDS=0;   //A4 Bottom Drawer State

    // The first parameter can be used to specify which mesh to import. Here we import all meshes
    BABYLON.SceneLoader.Append(
        "https://raw.githubusercontent.com/YDm-UA/babylon/main/", "carbon.glb",
        scene, function (newMeshes) {
//scene materials
    var SceneMat = new BABYLON.MultiMaterial('SceneMat', scene);
        SceneMat.subMaterials.push(scene.getMaterialByName("Alum_Profile"));    // 0
        SceneMat.subMaterials.push(scene.getMaterialByName("Fridge"));         // 1        
        SceneMat.subMaterials.push(scene.getMaterialByName("Black"));           // 2
        SceneMat.subMaterials.push(scene.getMaterialByName("Black_Glass"));     // 3
        SceneMat.subMaterials.push(scene.getMaterialByName("Blue"));            // 4
        SceneMat.subMaterials.push(scene.getMaterialByName("Bosch Cooktop"));   // 5        
        SceneMat.subMaterials.push(scene.getMaterialByName("Floor"));           // 6
        SceneMat.subMaterials.push(scene.getMaterialByName("Glass"));           // 7
        SceneMat.subMaterials.push(scene.getMaterialByName("Glass_Brown"));     // 8
        SceneMat.subMaterials.push(scene.getMaterialByName("Glass_Green"));     // 9
        SceneMat.subMaterials.push(scene.getMaterialByName("Grey"));            // 10
        SceneMat.subMaterials.push(scene.getMaterialByName("Handle"));          // 11
        SceneMat.subMaterials.push(scene.getMaterialByName("LED"));             // 12
        SceneMat.subMaterials.push(scene.getMaterialByName("Metal"));           // 13
        SceneMat.subMaterials.push(scene.getMaterialByName("Timber"));          // 14
        SceneMat.subMaterials.push(scene.getMaterialByName("White"));           // 15       
        SceneMat.subMaterials.push(scene.getMaterialByName("Yellow"));          // 16


// Room
    var Room = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("Room_primitive0"),
            scene.getMeshByName("Room_primitive1"),
            scene.getMeshByName("Room_primitive2"),
            scene.getMeshByName("Room_primitive3"),
            scene.getMeshByName("Room_primitive4"),
            scene.getMeshByName("Room_primitive5"),
            scene.getMeshByName("ELDoor_KDN")
            ], true, true, undefined, false, true);
        Room.material = SceneMat;
        Room.subMeshes[0].materialIndex = 15;
        Room.subMeshes[1].materialIndex = 6;
        Room.subMeshes[2].materialIndex = 2;
        Room.subMeshes[3].materialIndex = 16;
        Room.subMeshes[4].materialIndex = 10;
        Room.subMeshes[5].materialIndex = 4;
        Room.subMeshes[6].materialIndex = 2;
        Room.name = Room.id = "Room";

// ELDoor
    var ELDoor = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("ELDoor_primitive0"),
            scene.getMeshByName("ELDoor_primitive1"),
            scene.getMeshByName("ELDoor_primitive2")
            ], true, true, undefined, false, true);
        ELDoor.material = SceneMat;
        ELDoor.subMeshes[0].materialIndex = 14;
        ELDoor.subMeshes[1].materialIndex = 15;
        ELDoor.subMeshes[2].materialIndex = 2;
        ELDoor.name = ELDoor.id = "ELDoor";
        ELDoor.setPivotPoint(new BABYLON.Vector3(3585, 0, 20));

// ELDoor_Handle
    var ELDoor_Handle = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("ELdoor_Handle_primitive0"),
            scene.getMeshByName("ELdoor_Handle_primitive1")
            ], true, true, undefined, false, true);
        ELDoor_Handle.material = SceneMat;
        ELDoor_Handle.subMeshes[0].materialIndex = 2;
        ELDoor_Handle.subMeshes[1].materialIndex = 11;
        ELDoor_Handle.name = ELDoor_Handle.id = "ELDoor_Handle";
        ELDoor_Handle.parent=ELDoor;

// BAR_Cabinet
    var BAR_Cabinet = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("Bar_Cab"),
            scene.getMeshByName("BAR_Glass_Shelves"),
            scene.getMeshByName("BAR_Bottles_primitive0"),
            scene.getMeshByName("BAR_Bottles_primitive1"),
            scene.getMeshByName("BAR_Bottle_Holder")
            ], true, true, undefined, false, true);
        BAR_Cabinet.material = SceneMat;
        BAR_Cabinet.subMeshes[0].materialIndex = 14;
        BAR_Cabinet.subMeshes[1].materialIndex = 7;
        BAR_Cabinet.subMeshes[2].materialIndex = 9;
        BAR_Cabinet.subMeshes[3].materialIndex = 9;
        BAR_Cabinet.subMeshes[4].materialIndex = 10;
        BAR_Cabinet.name = BAR_Cabinet.id = "BAR_Cabinet";

// BAR_LDoor
    var BAR_LDoor = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("BAR_L_Door_BL"),
            scene.getMeshByName("BAR_L_Door_GL"),
            scene.getMeshByName("BAR_L_Door_GL_BL"),
            scene.getMeshByName("BAR_L_Door_Glasses")
            ], true, true, undefined, false, true);
        BAR_LDoor.material = SceneMat;
        BAR_LDoor.subMeshes[0].materialIndex = 2;
        BAR_LDoor.subMeshes[1].materialIndex = 7;
        BAR_LDoor.subMeshes[2].materialIndex = 3;
        BAR_LDoor.subMeshes[3].materialIndex = 7;
        BAR_LDoor.name = BAR_LDoor.id = "BAR_LDoor";
        BAR_LDoor.setPivotPoint(new BABYLON.Vector3(2350, 0, 40));
        
// BAR_RDoor
    var BAR_RDoor = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("BAR_R_Door_BL"),
            scene.getMeshByName("BAR_R_Door_GL"),
            scene.getMeshByName("BAR_R_Door_GL_BL"),
            scene.getMeshByName("BAR_R_Door_Glasses")
            ], true, true, undefined, false, true);
        BAR_RDoor.material = SceneMat;
        BAR_RDoor.subMeshes[0].materialIndex = 2;
        BAR_RDoor.subMeshes[1].materialIndex = 7;
        BAR_RDoor.subMeshes[2].materialIndex = 3;
        BAR_RDoor.subMeshes[3].materialIndex = 7;
        BAR_RDoor.name = BAR_RDoor.id = "BAR_RDoor";
        BAR_RDoor.setPivotPoint(new BABYLON.Vector3(1100,0,40));

// BAR_Shelf
    var BAR_Shelf = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("BAR_Shelf")
            ], true, true, undefined, false, true);
        BAR_Shelf.material = SceneMat;
        BAR_Shelf.subMeshes[0].materialIndex = 14;
        BAR_Shelf.name = BAR_Shelf.id = "BAR_Shelf";

// BAR_Drawer
    var BAR_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("BAR_Drawer"),
            scene.getMeshByName("BAR_Drawer_Front")
            ], true, true, undefined, false, true);
        BAR_Drawer.material = SceneMat;
        BAR_Drawer.subMeshes[0].materialIndex = 10;
        BAR_Drawer.subMeshes[1].materialIndex = 14;
        BAR_Drawer.name = BAR_Drawer.id = "BAR_Drawer";

// BAR_AV_HK
    var BAR_AV_HK = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("BAR_AV")
            ], true, true, undefined, false, true);
        BAR_AV_HK.material = SceneMat;
        BAR_AV_HK.subMeshes[0].materialIndex = 14;
        BAR_AV_HK.name = BAR_AV_HK.id = "BAR_AV_HK";
        BAR_AV_HK.setPivotPoint(new BABYLON.Vector3(0,3000,0));

// KIT_TOP_01_AV_HK
    var KIT_TOP_01_AV_HK = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TOP_01_AV")
            ], true, true, undefined, false, true);
        KIT_TOP_01_AV_HK.material = SceneMat;
        KIT_TOP_01_AV_HK.subMeshes[0].materialIndex = 14;
        KIT_TOP_01_AV_HK.name = KIT_TOP_01_AV_HK.id = "KIT_TOP_01_AV_HK";
        KIT_TOP_01_AV_HK.setPivotPoint(new BABYLON.Vector3(0,3000,0));

// KIT_TOP_02_AV_HK
    var KIT_TOP_02_AV_HK = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TOP_02_AV")
            ], true, true, undefined, false, true);
        KIT_TOP_02_AV_HK.material = SceneMat;
        KIT_TOP_02_AV_HK.subMeshes[0].materialIndex = 14;
        KIT_TOP_02_AV_HK.name = KIT_TOP_02_AV_HK.id = "KIT_TOP_02_AV_HK";
        KIT_TOP_02_AV_HK.setPivotPoint(new BABYLON.Vector3(0,3000,0));

// KIT_TOP_03_AV_HK
    var KIT_TOP_03_AV_HK = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TOP_03_AV")
            ], true, true, undefined, false, true);
        KIT_TOP_03_AV_HK.material = SceneMat;
        KIT_TOP_03_AV_HK.subMeshes[0].materialIndex = 14;
        KIT_TOP_03_AV_HK.name = KIT_TOP_03_AV_HK.id = "KIT_TOP_03_AV_HK";
        KIT_TOP_03_AV_HK.setPivotPoint(new BABYLON.Vector3(0,3000,0));        

// KIT_TOP_04_AV_HK
    var KIT_TOP_04_AV_HK = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TOP_04_AV")
            ], true, true, undefined, false, true);
        KIT_TOP_04_AV_HK.material = SceneMat;
        KIT_TOP_04_AV_HK.subMeshes[0].materialIndex = 14;
        KIT_TOP_04_AV_HK.name = KIT_TOP_04_AV_HK.id = "KIT_TOP_04_AV_HK";
        KIT_TOP_04_AV_HK.setPivotPoint(new BABYLON.Vector3(0,3000,0));

// KIT_TOP_05_AV_HK
    var KIT_TOP_05_AV_HK = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TOP_05_AV")
            ], true, true, undefined, false, true);
        KIT_TOP_05_AV_HK.material = SceneMat;
        KIT_TOP_05_AV_HK.subMeshes[0].materialIndex = 14;
        KIT_TOP_05_AV_HK.name = KIT_TOP_05_AV_HK.id = "KIT_TOP_05_AV_HK";
        KIT_TOP_05_AV_HK.setPivotPoint(new BABYLON.Vector3(0,3000,0));


// KIT_Fridge_LDoor
    var KIT_Fridge_LDoor = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_Fridge_Door_primitive0"),
            scene.getMeshByName("KIT_Fridge_Door_primitive1")
            ], true, true, undefined, false, true);
        KIT_Fridge_LDoor.material = SceneMat;
        KIT_Fridge_LDoor.subMeshes[0].materialIndex = 14;
        KIT_Fridge_LDoor.subMeshes[1].materialIndex = 15;
        KIT_Fridge_LDoor.name = KIT_Fridge_LDoor.id = "KIT_Fridge_LDoor";
        KIT_Fridge_LDoor.setPivotPoint(new BABYLON.Vector3(820, 0, 15));

// KIT_BL_01_Drawer
    var KIT_BL_01_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_BL_01_Drawer_Carcass"),
            scene.getMeshByName("KIT_BL_01_Drawer_Front")
            ], true, true, undefined, false, true);
        KIT_BL_01_Drawer.material = SceneMat;
        KIT_BL_01_Drawer.subMeshes[0].materialIndex = 10;
        KIT_BL_01_Drawer.subMeshes[1].materialIndex = 14;
        KIT_BL_01_Drawer.name = KIT_BL_01_Drawer.id = "KIT_BL_01_Drawer";

// KIT_BL_02_Drawer
    var KIT_BL_02_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_BL_02_Drawer_Carcass"),
            scene.getMeshByName("KIT_BL_02_Drawer_Front")
            ], true, true, undefined, false, true);
        KIT_BL_02_Drawer.material = SceneMat;
        KIT_BL_02_Drawer.subMeshes[0].materialIndex = 10;
        KIT_BL_02_Drawer.subMeshes[1].materialIndex = 14;
        KIT_BL_02_Drawer.name = KIT_BL_02_Drawer.id = "KIT_BL_02_Drawer";

// KIT_BL_03_Drawer
    var KIT_BL_03_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_BL_03_Drawer_Carcass"),
            scene.getMeshByName("KIT_BL_03_Drawer_Front")
            ], true, true, undefined, false, true);
        KIT_BL_03_Drawer.material = SceneMat;
        KIT_BL_03_Drawer.subMeshes[0].materialIndex = 10;
        KIT_BL_03_Drawer.subMeshes[1].materialIndex = 14;
        KIT_BL_03_Drawer.name = KIT_BL_03_Drawer.id = "KIT_BL_03_Drawer";

// KIT_SL_01_Drawer
    var KIT_SL_01_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_SL_01_Drawer_Carcass"),
            scene.getMeshByName("KIT_SL_01_Drawer_Front_primitive0"),
            scene.getMeshByName("KIT_SL_01_Drawer_Front_primitive1"),
            scene.getMeshByName("KIT_SL_01_Drawer_Front_Glass")

            ], true, true, undefined, false, true);
        KIT_SL_01_Drawer.material = SceneMat;
        KIT_SL_01_Drawer.subMeshes[0].materialIndex = 10;
        KIT_SL_01_Drawer.subMeshes[1].materialIndex = 2;
        KIT_SL_01_Drawer.subMeshes[2].materialIndex = 14;
        KIT_SL_01_Drawer.subMeshes[3].materialIndex = 3;
        KIT_SL_01_Drawer.name = KIT_SL_01_Drawer.id = "KIT_SL_01_Drawer";

// KIT_SL_02_Drawer
    var KIT_SL_02_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_SL_02_Drawer_Carcass"),
            scene.getMeshByName("KIT_SL_02_Drawer_Front_primitive0"),
            scene.getMeshByName("KIT_SL_02_Drawer_Front_primitive1"),
            scene.getMeshByName("KIT_SL_02_Drawer_Front_Glass")

            ], true, true, undefined, false, true);
        KIT_SL_02_Drawer.material = SceneMat;
        KIT_SL_02_Drawer.subMeshes[0].materialIndex = 10;
        KIT_SL_02_Drawer.subMeshes[1].materialIndex = 2;
        KIT_SL_02_Drawer.subMeshes[2].materialIndex = 14;
        KIT_SL_02_Drawer.subMeshes[3].materialIndex = 3;
        KIT_SL_02_Drawer.name = KIT_SL_02_Drawer.id = "KIT_SL_02_Drawer";

// KIT_SL_03_Drawer
    var KIT_SL_03_Drawer = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_SL_03_Drawer_Carcass"),
            scene.getMeshByName("KIT_SL_03_Drawer_Front_primitive0"),
            scene.getMeshByName("KIT_SL_03_Drawer_Front_primitive1"),
            scene.getMeshByName("KIT_SL_03_Drawer_Front_Glass")

            ], true, true, undefined, false, true);
        KIT_SL_03_Drawer.material = SceneMat;
        KIT_SL_03_Drawer.subMeshes[0].materialIndex = 10;
        KIT_SL_03_Drawer.subMeshes[1].materialIndex = 2;
        KIT_SL_03_Drawer.subMeshes[2].materialIndex = 14;
        KIT_SL_03_Drawer.subMeshes[3].materialIndex = 3;
        KIT_SL_03_Drawer.name = KIT_SL_03_Drawer.id = "KIT_SL_03_Drawer";

// KIT_TC_RDoor_Bot
    var KIT_TC_RDoor_Bot = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TC_RDoor_Bot")
            ], true, true, undefined, false, true);
        KIT_TC_RDoor_Bot.material = SceneMat;
        KIT_TC_RDoor_Bot.subMeshes[0].materialIndex = 14;
        KIT_TC_RDoor_Bot.name = KIT_TC_RDoor_Bot.id = "KIT_TC_RDoor_Bot";
        KIT_TC_RDoor_Bot.setPivotPoint(new BABYLON.Vector3(-3520,0,15));////

// KIT_TC_RDoor_Top
    var KIT_TC_RDoor_Top = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TC_RDoor_Top")
            ], true, true, undefined, false, true);
        KIT_TC_RDoor_Top.material = SceneMat;
        KIT_TC_RDoor_Top.subMeshes[0].materialIndex = 14;
        KIT_TC_RDoor_Top.name = KIT_TC_RDoor_Top.id = "KIT_TC_RDoor_Top";
        KIT_TC_RDoor_Top.setPivotPoint(new BABYLON.Vector3(-3520,0,15));////


// KIT_TC_Drawer_Bot
    var KIT_TC_Drawer_Bot = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TC_Drawer_Bot_Carcass"),
            scene.getMeshByName("KIT_TC_Drawer_Bot_Glass")
            ], true, true, undefined, false, true);
        KIT_TC_Drawer_Bot.material = SceneMat;
        KIT_TC_Drawer_Bot.subMeshes[0].materialIndex = 10;
        KIT_TC_Drawer_Bot.subMeshes[1].materialIndex = 7;
        KIT_TC_Drawer_Bot.name = KIT_TC_Drawer_Bot.id = "KIT_TC_Drawer_Bot";

// KIT_TC_Drawer_Center
    var KIT_TC_Drawer_Center = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TC_Drawer_Center_Carcass"),
            scene.getMeshByName("KIT_TC_Drawer_Center_Glass")
            ], true, true, undefined, false, true);
        KIT_TC_Drawer_Center.material = SceneMat;
        KIT_TC_Drawer_Center.subMeshes[0].materialIndex = 10;
        KIT_TC_Drawer_Center.subMeshes[1].materialIndex = 7;
        KIT_TC_Drawer_Center.name = KIT_TC_Drawer_Center.id = "KIT_TC_Drawer_Center";

// KIT_TC_Drawer_Top
    var KIT_TC_Drawer_Top = BABYLON.Mesh.MergeMeshes(
        [
            scene.getMeshByName("KIT_TC_Drawer_Top_Carcass"),
            scene.getMeshByName("KIT_TC_Drawer_Top_Glass")
            ], true, true, undefined, false, true);
        KIT_TC_Drawer_Top.material = SceneMat;
        KIT_TC_Drawer_Top.subMeshes[0].materialIndex = 10;
        KIT_TC_Drawer_Top.subMeshes[1].materialIndex = 7;
        KIT_TC_Drawer_Top.name = KIT_TC_Drawer_Top.id = "KIT_TC_Drawer_Top";

//--//
    });




//scene camera and light
        scene.createDefaultCameraOrLight(true);
        scene.activeCamera.attachControl(canvas, false);
        scene.activeCamera.alpha += 0.1+Math.PI; // camera +180°
        camera.minZ = 1;
        camera.maxZ = 50000;
        camera.wheelPrecision=0.1;
        scene.clipPlane = null;
        camera.setPosition(new BABYLON.Vector3(-9500, 9500, 9500));
        scene.clearColor = new BABYLON.Color3(0.99, 0.99, 0.99);    
        //scene.camera.attachControl(AIR_Alum, true);
        //camera.setTarget(scene.getMeshByName("AIR_Cabinet"));
        camera.angularSensibility = 10;
        camera.moveSensibility = 10;
        //camera.setTarget(new BABYLON.Vector3(-2, 4, 3));
        camera.attachControl(canvas, true);
	
var pipeline = new BABYLON.DefaultRenderingPipeline(
    "defaultPipeline", // The name of the pipeline
    true, // Do you want the pipeline to use HDR texture?
    scene, // The scene instance
    [camera] // The list of cameras to be attached to
);
	pipeline.samples = 16;
	pipeline.fxaaEnabled = true;	

    scene.onPointerPick = function (evt, pickInfo) {
        if (pickInfo.hit) {
            if (pickInfo.pickedMesh != null)
            {
                console.log(pickInfo.pickedMesh.name);
                 //console.log("size"+pickInfo.pickedMesh.getBoundingInfo().boundingBox.extendSize);
                 //console.log("pivot"+pickInfo.pickedMesh.getPivotPoint());
////


// ELDoor Animation
	if (pickInfo.pickedMesh.name=="ELDoor")
		{
            if (pickInfo.pickedMesh.rotation.y==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("ELDoor_Open", pickInfo.pickedMesh, "rotation.y", 30, 60, Door_Closed, ELDoor_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("ELDoor_Close", pickInfo.pickedMesh, "rotation.y", 30, 60, ELDoor_Opened, -Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
		}




// BAR_LDoor Animation
	if (pickInfo.pickedMesh.name=="BAR_LDoor")
		{
            if (BSSS==0)
            {
            if (pickInfo.pickedMesh.rotation.y==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_LDoor_Open", pickInfo.pickedMesh, "rotation.y", 30, 30, Door_Closed, BAR_Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                BLDS=1;
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_LDoor_Close", pickInfo.pickedMesh, "rotation.y", 30, 30, BAR_Door_Opened, -Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                BLDS=0;
            }
            }
		}


// BAR_RDoor Animation
	if (pickInfo.pickedMesh.name=="BAR_RDoor")
		{
            if (BSSS==0)
            {                
                if (pickInfo.pickedMesh.rotation.y==0)
                {
                BABYLON.Animation.CreateAndStartAnimation("BAR_RDoor_Open", pickInfo.pickedMesh, "rotation.y", 30, 30, Door_Closed, -BAR_Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                BRDS=1;
                }
            else
                {
                BABYLON.Animation.CreateAndStartAnimation("BAR_RDoor_Close", pickInfo.pickedMesh, "rotation.y", 30, 30, -BAR_Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                BRDS=0;
                }
            }
		}

// BAR_Shelf Animation
	if (pickInfo.pickedMesh.name=="BAR_Shelf")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {

                if (BLDS==1 & BRDS==1)
                {
                BABYLON.Animation.CreateAndStartAnimation("BAR_Shelf_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                BSSS=1;
                }
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_Shelf_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                BSSS=0;
            }
		}


// BAR_Drawer Animation
	if (pickInfo.pickedMesh.name=="BAR_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }
		

// BAR_AV_HK Animation
	if (pickInfo.pickedMesh.name=="BAR_AV_HK")
		{
            if (pickInfo.pickedMesh.rotation.x==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_AV_HK_Open", pickInfo.pickedMesh, "rotation.x", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("BAR_AV_HK_Close", pickInfo.pickedMesh, "rotation.x", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }


// KIT_TOP_01_AV_HK Animation
	if (pickInfo.pickedMesh.name=="KIT_TOP_01_AV_HK")
		{
            if (pickInfo.pickedMesh.rotation.x==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_01_AV_HK_Open", pickInfo.pickedMesh, "rotation.x", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_01_AV_HK_Close", pickInfo.pickedMesh, "rotation.x", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_TOP_02_AV_HK Animation
	if (pickInfo.pickedMesh.name=="KIT_TOP_02_AV_HK")
		{
            if (pickInfo.pickedMesh.rotation.x==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_02_AV_HK_Open", pickInfo.pickedMesh, "rotation.x", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_02_AV_HK_Close", pickInfo.pickedMesh, "rotation.x", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_TOP_03_AV_HK Animation
	if (pickInfo.pickedMesh.name=="KIT_TOP_03_AV_HK")
		{
            if (pickInfo.pickedMesh.rotation.x==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_03_AV_HK_Open", pickInfo.pickedMesh, "rotation.x", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_03_AV_HK_Close", pickInfo.pickedMesh, "rotation.x", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_TOP_04_AV_HK Animation
	if (pickInfo.pickedMesh.name=="KIT_TOP_04_AV_HK")
		{
            if (pickInfo.pickedMesh.rotation.x==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_04_AV_HK_Open", pickInfo.pickedMesh, "rotation.x", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_04_AV_HK_Close", pickInfo.pickedMesh, "rotation.x", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_TOP_05_AV_HK Animation
	if (pickInfo.pickedMesh.name=="KIT_TOP_05_AV_HK")
		{
            if (pickInfo.pickedMesh.rotation.x==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_05_AV_HK_Open", pickInfo.pickedMesh, "rotation.x", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TOP_05_AV_HK_Close", pickInfo.pickedMesh, "rotation.x", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }


// KIT_Fridge_LDoor Animation
	if (pickInfo.pickedMesh.name=="KIT_Fridge_LDoor")
		{
            if (pickInfo.pickedMesh.rotation.y==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_Fridge_LDoor_Open", pickInfo.pickedMesh, "rotation.y", 30, 30, Door_Closed, Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_Fridge_LDoor_Close", pickInfo.pickedMesh, "rotation.y", 30, 30, Door_Opened, -Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
		}



// KIT_BL_01_Drawer Animation
	if (pickInfo.pickedMesh.name=="KIT_BL_01_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_BL_01_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_BL_01_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_BL_02_Drawer Animation
	if (pickInfo.pickedMesh.name=="KIT_BL_02_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_BL_02_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_BL_02_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_BL_03_Drawer Animation
	if (pickInfo.pickedMesh.name=="KIT_BL_03_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_BL_03_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_BL_03_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }        

// KIT_SL_01_Drawer Animation
	if (pickInfo.pickedMesh.name=="KIT_SL_01_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_SL_01_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_SL_01_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_SL_02_Drawer Animation
	if (pickInfo.pickedMesh.name=="KIT_SL_02_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_SL_02_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_SL_02_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        }

// KIT_SL_03_Drawer Animation
	if (pickInfo.pickedMesh.name=="KIT_SL_03_Drawer")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_SL_03_Drawer_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_SL_03_Drawer_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            }
        } 

// KIT_TC_RDoor_Bot Animation
	if (pickInfo.pickedMesh.name=="KIT_TC_RDoor_Bot")
		{
            if (KIBS==0 & KICS==0 & KITS==0)
                {
                if (pickInfo.pickedMesh.rotation.y==0)
                {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_RDoor_Bot_Open", pickInfo.pickedMesh, "rotation.y", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KBDS=1;
                }
            else
                {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_RDoor_Bot_Close", pickInfo.pickedMesh, "rotation.y", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KBDS=0;
                }
                }
		}

// KIT_TC_RDoor_Top Animation
	if (pickInfo.pickedMesh.name=="KIT_TC_RDoor_Top")
		{
                if (pickInfo.pickedMesh.rotation.y==0)
                {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_RDoor_Top_Open", pickInfo.pickedMesh, "rotation.y", 30, 30, Door_Closed, -Door_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                }
            else
                {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_RDoor_Top_Close", pickInfo.pickedMesh, "rotation.y", 30, 30, -Door_Opened, Door_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                }
		}


// KIT_TC_Drawer_Bot Animation
	if (pickInfo.pickedMesh.name=="KIT_TC_Drawer_Bot")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_Drawer_Bot_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KIBS=1;
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_Drawer_Bot_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KIBS=0;
            }
        } 

// KIT_TC_Drawer_Center Animation
	if (pickInfo.pickedMesh.name=="KIT_TC_Drawer_Center")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_Drawer_Center_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KICS=1;
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_Drawer_Center_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KICS=0;
            }
        } 

// KIT_TC_Drawer_Top Animation
	if (pickInfo.pickedMesh.name=="KIT_TC_Drawer_Top")
		{
            if (pickInfo.pickedMesh.position.z==0)
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_Drawer_Top_Open", pickInfo.pickedMesh, "position.z", 30, 30, Drawer_Closed, Drawer600_Opened, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KITS=1;
            }
            else
            {
                BABYLON.Animation.CreateAndStartAnimation("KIT_TC_Drawer_Top_Close", pickInfo.pickedMesh, "position.z", 30, 30, Drawer600_Opened, Drawer_Closed, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
                KITS=0;
            }
        } 


//--//











        }
        }
    }

    return scene;
}
